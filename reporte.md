<style type="text/css" rel="stylesheet">
div {
  max-width: 450px;
  margin: 0 auto;
}
</style>
<div>

## 每周汇报
###### *Author:高金铭 Date:2023.10.7*
***
***
### **2023**.9.28 - 10.10
###### 本周总结
1. 深入了解原版代码，理清数据流向和处理流程。   
原版代码使用最基础的`tf`语法逐步处理学习过程，尝试是否可以通过新版本高度抽象的函数来简化代码。
2. 对之前复现的Unet代码，尝试使用目前深度学习常用的`Jupyter`来实现具体流程。   
在`Jupyter`环境下，测试数据读取、可视化，测试unet代码的可用性。
3. 尝试使用`tf.dataset()`函数加载数据，重写读数据过程。

###### 遇到的问题
1. ~~在`./example`给的数据中，读出的lidar数据似乎不正确。~~   
2. ~~对原版代码中精细的深度学习计算操作看不太懂，不确定转化其使用简易函数的可能性。~~
3. 调试模型时，发现对输入数据形状有要求，需要其宽高在多次除以二操作后保持为偶数，否则在上采样过程中会产生精度问题，报错。
4. 


###### 后续计划
1. 拿到数据集，进行具体调试更改
2. 暂时没有使用`gt_mask`检查深度数据是否有效
3. 暂未对数据加载预处理
4. 暂未添加`tensorboard`监控
5. 
***
### **2023**.10.11 - 10.17
###### 本周总结
1. 根据数据集进行调试
2. 在L1损失函数里加入`gt_mask`验证
3. 在损失函数里加入平滑损失，减弱生成图的横向纹理和色块
4. 调整数据加载量，使其能在`32GB`内存和`11GB`显存环境运行
5. 使用延迟加载数据
6. 解决一些训练时的bug
7. 可视化预测深度图，对雷达稀疏矩阵等可视化
8. 对数据进行剪裁、规约化等预处理

###### 遇到的问题
1. 训练效果达不到原论文的指标
2. ~~在按照原版代码加入平滑损失以后，效果反而更差~~

###### 后续计划
1. 还未加入多重尺度损失验证
2. 加入更多评价指标
3. 对比原版代码，达到原版模型效果
4. 
***
### **2023**.10.18 - 10.25
###### 本周总结
1. 加入`RMSE`、`ARD`、`MAE`监测指标
2. 分类数据训练，之前是训练整个数据集
3. 之前的`TV Loss`存在bug，没有加入输入张量。现在通过将输入和输出连接作为网络最后一层，将输入带入损失函数
4. 修改其他代码以适应新的网络输出
5. 尝试运行理解`pytorch`的`Unet`代码

###### 遇到的问题
1. 几个指标依然不达标
2. 回顾这段时间，代码编写有些操之过急，很多细节地方欠缺考虑

###### 后续计划
1. 详细学习pytorch的Unet代码，根据其来发现和修正自己代码的问题
2. 阅读论文

***
### **2023**.10.26 - 11.01
###### 本周总结
1. 放弃之前使用的TF高级API，使用`tf.GradientTape`记录模型计算过程、计算梯度，使用`tf.keras.metrics.Mean`来记录loss和各项指标的平均值。
2. 使用`tqdm`库来显示训练进度条
3. 暂时弃用`tf.data.Dataset`数据加载工具的使用，使用原来的数据加载和预处理方法，使得训练结果有显著提升。

###### 遇到的问题
1. `dataset`部分代码对图像的加载和预处理对模型训练结果产生影响
2. 预测图像边缘存在类似遮罩的问题

###### 后续计划
1. 尝试修改`dataset`部分代码，使其可以达到原版代码的效果，同时利用到工具的优势，如GPU加速处理，懒加载等
2. 补全更多指标
3. 加入其他损失
</div>



